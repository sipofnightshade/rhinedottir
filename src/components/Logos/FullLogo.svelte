<script lang="ts">
  import type { Visions } from '$lib/types/global';

  export let vision: Visions;
  export let selected = false;
  export let hasColor = false;

  export const elementalFill = {
    anemo: '#39CAC1',
    cryo: '#9FD6E3',
    dendro: '#A5C83B',
    electro: '#B06AD7',
    hydro: '#3DB1F0',
    geo: '#FAB632',
    pyro: '#EF7938'
  };

  $: showColor = hasColor ? elementalFill[vision] : '#CBD5E1';
</script>

<svg
  class={$$props.class}
  viewBox="0 0 102 82"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  {#if selected}
    <g filter="url(#filter0_f_2450_9691)">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M80.4182 68.2452C73.9355 76.6141 63.7985 82 52.4058 82C50.2601 82 48.159 81.8089 46.1185 81.4429C39.0337 80.1956 32.5104 76.8082 27.3183 71.6006C20.6448 64.9071 16.9695 56.0078 16.9695 46.5421C16.9695 46.5351 16.9695 46.5281 16.9695 46.521C16.9695 46.514 16.9695 46.507 16.9695 46.5C16.9695 26.8939 32.8349 11 52.4058 11C55.8239 11 59.1289 11.4848 62.2561 12.3895C64.6079 12.3138 66.8491 9.31211 68.6345 6.92084C69.9471 5.1627 71.0135 3.73453 71.6962 4.04184C72.4166 4.36544 71.9788 6.12993 71.4439 8.28547C70.7417 11.1155 69.8722 14.6197 71.237 16.4219C81.2121 22.7028 87.8421 33.8257 87.8421 46.5C87.8421 50.0483 87.3225 53.475 86.3553 56.7079C86.7026 59.514 91.5594 63.1249 95.7705 66.2556C99.4204 68.9692 102.585 71.322 101.908 72.4776C101.364 73.4049 97.7934 72.177 93.655 70.7538C88.5899 69.012 82.6744 66.9777 80.4182 68.2452ZM72.7384 58.6683C75.0235 60.7338 77.9044 63.3378 76.566 66.6615C70.7981 73.5906 62.116 78 52.4058 78C35.04 78 20.9623 63.897 20.9623 46.5C20.9623 29.103 35.04 15 52.4058 15C55.873 15 59.2091 15.5622 62.3282 16.6005C63.0558 17.5334 62.8429 18.9442 62.6526 20.2053C62.4618 21.4699 62.2937 22.5841 63.1192 22.9153C63.8269 23.1993 64.3608 22.5413 65.0066 21.7453C65.8944 20.651 66.9938 19.296 69.0473 19.7684C77.9363 25.3338 83.8493 35.2251 83.8493 46.5C83.8493 49.0251 83.5527 51.4808 82.9926 53.834C81.2327 56.9783 77.7301 55.9592 74.8332 55.1163C72.774 54.5172 71.0208 54.0071 70.4174 55.1449C69.9063 56.1083 71.1846 57.2638 72.7384 58.6683Z"
        fill={showColor}
      />
    </g>
  {/if}

  <path
    d="M68.3114 67.0147C62.9532 55.2653 62.0228 47.5459 60.6336 47.5459V47.3306C65.87 45.6464 68.2037 41.6487 67.6347 35.3388C66.8504 28.1326 61.9882 24.3877 53.0455 24.1001H35.1179C34.9705 24.1001 34.9205 24.2961 35.0487 24.3683C37.2196 25.6037 38.6165 28.9373 38.6165 31.844V66.8264C38.6165 66.927 38.7011 67.0069 38.7998 67.0018C44.4091 66.7091 47.7014 63.3394 47.7014 58.8388V48.891L47.7553 48.6756H50.8553C52.7431 48.6756 54.7526 56.5549 58.7472 67.6595C60.8758 73.5773 65.1062 76.5318 71.4127 76.5318H78.2421C78.3754 76.5318 78.41 76.3448 78.2857 76.2971C76.421 75.5955 71.2384 73.1647 68.3127 67.0134L68.3114 67.0147ZM51.5487 43.0285H47.7014V29.2623H52.8315C56.0021 29.2623 57.836 31.4133 58.3358 35.7153C58.3358 40.5912 56.0725 43.0285 51.5487 43.0285Z"
    fill={'#CBD5E1'}
  />
  <path
    d="M22.9106 3.11066L33.3125 10.3633C33.6225 10.579 33.6285 11.0387 33.325 11.2643L26.7441 16.1442C26.4407 16.3698 26.0054 16.2275 25.8925 15.8663L22.0706 3.73285C21.9115 3.22924 22.4787 2.80885 22.9106 3.11066Z"
    fill={showColor}
  />
  <path
    d="M0.685078 38.3888L13.1654 36.1881C13.5372 36.1228 13.8634 36.4438 13.8045 36.8197L12.5351 44.9363C12.4771 45.3113 12.0689 45.5179 11.7344 45.3416L0.525246 39.4258C0.0600557 39.1806 0.169237 38.4814 0.687774 38.3898L0.685078 38.3888Z"
    fill={showColor}
  />
  <path
    d="M76.4471 72.5139C77.8773 71.183 79.1982 69.7351 80.3948 68.1854C82.6534 66.9124 88.5754 68.9555 93.6461 70.7049C97.7889 72.1342 101.364 73.3675 101.908 72.4361C102.586 71.2755 99.4177 68.9125 95.7638 66.1871C91.5482 63.0428 86.686 59.4162 86.3383 56.5979C87.3066 53.3509 87.8268 49.9093 87.8268 46.3456C87.8268 33.6163 81.1896 22.445 71.2036 16.1368C69.8373 14.3267 70.7077 10.8074 71.4107 7.96502C71.9462 5.8001 72.3845 4.02791 71.6633 3.70292C70.9798 3.39427 69.9123 4.82864 68.5982 6.59442C66.8109 8.99609 64.5673 12.0108 62.2129 12.0869C59.0823 11.1782 55.7737 10.6913 52.3519 10.6913C32.7596 10.6913 16.877 26.6543 16.877 46.3456V46.388C16.877 55.8947 20.5563 64.8328 27.237 71.5554C32.4348 76.7856 38.9652 80.1878 46.0577 81.4405C48.1005 81.8081 50.2039 82 52.3519 82C57.1256 82 61.6791 81.0523 65.8363 79.3339C64.032 78.8489 62.2715 78.0591 60.6542 76.8705C58.0093 77.5955 55.2255 77.9826 52.3519 77.9826C34.9672 77.9826 20.8741 63.8182 20.8741 46.3456C20.8741 28.873 34.9672 14.7087 52.3519 14.7087C55.8228 14.7087 59.1626 15.2733 62.2851 16.3162C63.0135 17.2531 62.8004 18.67 62.6099 19.9366C62.4189 21.2067 62.2506 22.3258 63.0769 22.6584C63.7855 22.9436 64.3199 22.2828 64.9664 21.4833C65.8552 20.3843 66.9557 19.0234 69.0115 19.4978C77.9101 25.0874 83.8296 35.0217 83.8296 46.3456C83.8296 48.8817 83.5327 51.348 82.972 53.7115C81.2102 56.8695 77.7037 55.846 74.8037 54.9994C72.7422 54.3977 70.9872 53.8854 70.3831 55.0281C69.8715 55.9957 71.1512 57.1562 72.7067 58.5668C74.9942 60.6413 77.8782 63.2566 76.5384 66.5948C75.6159 67.7066 74.619 68.7538 73.5553 69.7287C73.5885 69.7629 73.6219 69.7974 73.6555 69.8321C74.472 70.675 75.402 71.6349 76.4471 72.5139Z"
    fill={showColor}
  />
  <path
    d="M46.9797 0H47.6545C48.3414 0.186919 48.8418 0.597042 49.1557 1.23037C49.5836 2.10339 50.5997 4.03306 52.204 7.01937C52.2279 7.06442 52.2631 7.10223 52.306 7.12891C52.3488 7.15558 52.3977 7.17015 52.4476 7.17111C55.2282 7.24147 57.7893 7.50536 60.1309 7.96276C60.5435 8.04413 60.8332 8.31791 61 8.78411V9.36136C59.5889 11.2108 58.1327 13.0569 56.6316 14.8997C56.3112 15.2933 55.9293 15.4692 55.486 15.4274C45.6498 14.5467 36.7253 17.4594 30.0954 24.9405C20.1768 36.1293 19.4164 51.8965 28.275 64.0221C28.3069 64.0661 28.3267 64.1176 28.3325 64.1715C28.3383 64.2253 28.3298 64.2796 28.3079 64.3288L24.9435 71.909C24.8975 72.0167 24.8338 72.0288 24.7526 71.9453C22.536 69.6758 20.6827 67.1381 19.1925 64.3321C19.1333 64.2178 19.0389 64.1628 18.9094 64.1672C16.7829 64.2178 14.6409 64.2563 12.4836 64.2827C11.3446 64.2959 10.7422 63.3624 10.4624 62.2837C9.67888 59.26 8.8581 56.2352 8 53.2093V52.3715C8.22605 51.7668 8.59364 51.3357 9.1028 51.0785C10.9375 50.1461 12.7711 49.195 14.6036 48.2252C14.698 48.1746 14.743 48.0965 14.7386 47.991C14.5081 43.1751 15.1435 38.4768 16.6446 33.8962C16.6594 33.8486 16.6607 33.7978 16.6485 33.7495C16.6363 33.7012 16.611 33.6572 16.5755 33.6224C14.9888 32.0897 13.4031 30.5778 11.8186 29.0868C10.8969 28.216 11.2096 27.1671 11.812 26.1247C13.2715 23.6046 14.7254 21.0834 16.1739 18.5611C16.8882 17.3208 17.7737 17.2351 19.1102 17.6738C21.0152 18.2983 22.9201 18.9261 24.825 19.5573C24.9435 19.5968 25.0456 19.5716 25.1312 19.4814C28.3112 16.1058 31.9685 13.368 36.1032 11.2679C36.1681 11.2346 36.2221 11.1833 36.2589 11.1202C36.2956 11.0571 36.3136 10.9847 36.3106 10.9117C36.2337 8.89956 36.158 6.85114 36.0834 4.76644C36.0439 3.66802 36.3566 2.64876 37.4594 2.38817C40.6351 1.6295 43.8085 0.83344 46.9797 0Z"
    fill={selected ? '#CBD5E1' : '#49596E'}
  />
  <defs>
    <filter
      id="filter0_f_2450_9691"
      x="12.9695"
      y="0"
      width="93.0304"
      height="86"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
      <feGaussianBlur stdDeviation="2" result="effect1_foregroundBlur_2450_9691" />
    </filter>
  </defs>
</svg>
